<script type="application/javascript">
    $(document).ready(function(){
        $('.materialboxed').materialbox();
    });

    $('#certifications-chips').chips({
        autocompleteOptions: {
            data: {
                {{#certifications}}
                    '{{name}}': null,
                {{/certifications}}
            },
            limit: 10,
            minLength: 1
        },
        data: [
            {{#productCertifications}}
                {tag: '{{name}}'},
            {{/productCertifications}}
        ]
    });

    $('#categories-chips').chips({
        autocompleteOptions: {
            data: {
                {{#categories}}
                    '{{name}}': null,
                {{/categories}}
            },
            limit: 10,
            minLength: 1
        },
        data: [
        {{#productCategories}}
            {tag: '{{name}}'},
        {{/productCategories}}
        ]
    });

    $('#attributes-chips').chips({
        autocompleteOptions: {
            data: {
                {{#attributes}}
                    '{{name}}': null,
                {{/attributes}}
            },
            limit: 10,
            minLength: 1
        },
        data: [
        {{#activeAttributes}}
            {tag: '{{name}}'},
        {{/activeAttributes}}
        ]
    });

    $('#tags-chips').chips({
        autocompleteOptions: {
            data: {
                {{#tags}}
                    '{{name}}': null,
                {{/tags}}
            },
            limit: 10,
            minLength: 1
        },
        data: [
        {{#productTags}}
            {tag: '{{name}}'},
        {{/productTags}}
        ]
    });

    $('#modalData').modal();
    $('#modalStock').modal();
    $('#modalTags').modal();
    $('#modalCertifications').modal();

    $('#description').val('{{description}}');
    M.textareaAutoResize($('#description'));

    $('#editData').click(function(){
        $('#attributes').val(JSON.stringify(M.Chips.getInstance($('#attributes-chips')).chipsData));
        $('#categories').val(JSON.stringify(M.Chips.getInstance($('#categories-chips')).chipsData));
    });

    $('#editTags').click(function(){
        $('#tags').val(JSON.stringify(M.Chips.getInstance($('#tags-chips')).chipsData));
    });

    $('#editCertifications').click(function(){
        $('#certifications').val(JSON.stringify(M.Chips.getInstance($('#certifications-chips')).chipsData));
    });
</script>